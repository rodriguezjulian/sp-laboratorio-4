import{a as M,b as m,c as P,d as w,e as I,g as L,h as N,l as R,m as A,n as G,o as V}from"./chunk-RRGJPT5U.js";import"./chunk-MJ2ACKOT.js";import{k as S,l as k,m as O}from"./chunk-NZXCED3C.js";import{$a as E,Ba as C,Da as s,Ea as p,Oa as u,Ra as l,Ta as i,Ua as t,Va as d,Wa as F,Xa as f,Ya as b,Za as _,_a as c,ab as j,cb as y,f as g,fa as h,na as v,oa as x}from"./chunk-F5QWAULN.js";function q(r,o){if(r&1){let e=F();i(0,"button",13),f("click",function(){let a=v(e).$implicit,T=b();return x(T.rellenarUsuario(a))}),d(1,"img",14),i(2,"span"),c(3),t()()}if(r&2){let e=o.$implicit;s(),_("alt",e.nombre),l("src",e.imagen,C),s(2),E(e.nombre)}}function z(r,o){if(r&1&&(i(0,"div")(1,"strong")(2,"label",15),c(3),t()()()),r&2){let e=b();s(3),j(" ",e.msjError," ")}}var D=class r{constructor(o,e,n){this.fb=o;this.auth=e;this.firestore=n;this.loginForm=this.fb.group({correo:["",[m.required,m.email]],contrasena:["",[m.required,m.minLength(6)]]})}loginForm;msjError="";usuariosRapidos=[{nombre:"Paciente 1",correo:"dominic@gmail.com",contrasena:"12345678",imagen:"https://firebasestorage.googleapis.com/v0/b/ppsutn-2ed7e.appspot.com/o/fotosperfil%2F1732603765425-dominic.jpeg?alt=media&token=4011e3c4-f6df-4ef7-bf09-c4a70de63649"},{nombre:"Paciente 2",correo:"jordana@gmail.com",contrasena:"12345678",imagen:"https://firebasestorage.googleapis.com/v0/b/ppsutn-2ed7e.appspot.com/o/fotosperfil%2F1732603941641-jordana.jpg?alt=media&token=74093de3-77e4-4c42-b98c-9af6c07515ac"},{nombre:"Paciente 3",correo:"hugh@gmail.com",contrasena:"12345678",imagen:"https://firebasestorage.googleapis.com/v0/b/ppsutn-2ed7e.appspot.com/o/fotosperfil%2F1732604105493-drHouse.jpeg?alt=media&token=081d7297-81a3-4be3-9dcd-12e90705978f"},{nombre:"Especialista 1",correo:"david@gmail.com",contrasena:"12345678",imagen:"https://firebasestorage.googleapis.com/v0/b/ppsutn-2ed7e.appspot.com/o/fotosperfil%2F1732603526550-davo.jpeg?alt=media&token=4ef21d52-ea70-4ce6-a77a-dd20689c7fe0"},{nombre:"Especialista 2",correo:"messi@gmail.com",contrasena:"123456",imagen:"https://firebasestorage.googleapis.com/v0/b/ppsutn-2ed7e.appspot.com/o/fotosperfil%2F1732603014197-messi.jpg?alt=media&token=df6986b1-34b6-4014-b6cc-11e6deac5031"},{nombre:"Admin",correo:"julianAdmin@gmail.com",contrasena:"12345678",imagen:"https://firebasestorage.googleapis.com/v0/b/ppsutn-2ed7e.appspot.com/o/fotosperfil%2F1732605540296-illia.jpeg?alt=media&token=dcd34edb-55dc-4342-aefc-407790cde3cc"}];rellenarUsuario(o){this.loginForm.setValue({correo:o.correo,contrasena:o.contrasena})}onLogin(){this.loginForm.valid?this.Login():console.log("Formulario inv\xE1lido")}Login(){let o=["dominic@gmail.com","jordana@gmail.com","hugh@gmail.com","david@gmail.com","messi@gmail.com","julianAdmin@gmail.com"];console.log("Entrando al login");let e=this.loginForm.get("correo")?.value,n=this.loginForm.get("contrasena")?.value;this.auth.login(e,n).then(a=>g(this,null,function*(){if(console.log("Parece que viene bien el login"),!o.includes(e))if(a.user.emailVerified)console.log("Correo electr\xF3nico verificado"),this.GuardarRegistroExitoso();else{this.msjError="Debe confirmar su correo electr\xF3nico antes de iniciar sesi\xF3n.";return}console.log("todo piola")})).catch(a=>{switch(a.code){case"auth/invalid-credential":this.msjError="Email o contrase\xF1a incorrectos";break;case"auth/invalid-email":this.msjError="EMAIL INCORRECTO.";break;default:this.msjError="ERROR al ingresar sesi\xF3n, verifique datos ingresados.";break}console.error("Error en el login: ",a)})}GuardarRegistroExitoso(){return g(this,null,function*(){let o={usuario:this.loginForm.get("correo")?.value};yield this.firestore.createDocument("logueos",o)})}static \u0275fac=function(e){return new(e||r)(p(R),p(V),p(G))};static \u0275cmp=h({type:r,selectors:[["app-login"]],standalone:!0,features:[y],decls:19,vars:3,consts:[[1,"login-container"],[1,"usuarios-rapidos"],[1,"usuarios"],["class","usuario-boton",3,"click",4,"ngFor","ngForOf"],[1,"login-form"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","correo"],["id","correo","formControlName","correo","type","email","placeholder","Correo electr\xF3nico",1,"form-input"],["for","contrasena"],["id","contrasena","formControlName","contrasena","type","password","placeholder","Contrase\xF1a",1,"form-input"],["type","submit",1,"submit-button"],[4,"ngIf"],[1,"usuario-boton",3,"click"],[1,"usuario-imagen",3,"src","alt"],[1,"form-label",2,"color","red"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2),u(3,q,4,3,"button",3),t()(),i(4,"div",4)(5,"h2"),c(6,"Iniciar Sesi\xF3n"),t(),i(7,"form",5),f("ngSubmit",function(){return n.onLogin()}),i(8,"div",6)(9,"label",7),c(10,"Correo"),t(),d(11,"input",8),t(),i(12,"div",6)(13,"label",9),c(14,"Contrase\xF1a"),t(),d(15,"input",10),t(),i(16,"button",11),c(17,"Ingresar"),t()(),u(18,z,4,1,"div",12),t()()),e&2&&(s(3),l("ngForOf",n.usuariosRapidos),s(4),l("formGroup",n.loginForm),s(11),l("ngIf",n.msjError!=""))},dependencies:[O,S,k,A,I,M,P,w,L,N],styles:[".login-container[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:space-around;align-items:center;background:linear-gradient(45deg,gold,#e48080);padding:20px}.usuarios-rapidos[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:15px}.usuarios[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.usuario-boton[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;border-radius:8px;padding:10px;cursor:pointer;width:120px;height:120px;text-align:center;transition:transform .3s}.usuario-boton[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.usuario-imagen[_ngcontent-%COMP%]{width:80px;height:80px}.login-form[_ngcontent-%COMP%]{background-color:#fff;padding:30px;border-radius:8px;box-shadow:0 4px 10px #0000004d}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-size:14px;font-weight:700}.form-input[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px;font-size:16px}.submit-button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#4caf50;color:#fff;border:none;border-radius:5px;font-size:16px;cursor:pointer;transition:background-color .3s}.submit-button[_ngcontent-%COMP%]:hover{background-color:#45a045}"]})};export{D as LoginComponent};
